{% extends 'hyplate/index.html' %}
{% block pagetitle %}Hyplate | Datahub {% endblock %}

{% block style %} 
<style>
    .subtitle{font-weight:bold;font-size: 14px; color:#396756;}
    .desc{font-size:14px;color:grey;}
    .right{float:right;}
    .left{float:left;}
    i{color:#396756;}
</style>
{% endblock %}

{% block header %}
{% endblock %}


{% block content %}
<div class="container" style="margin-top:200px;">
    <div class="card-deck">
       {% for i in dataindex %}
       {% set fields=i['fields'] %}
       <div class="col-lg-4" style="margin-top:20px;">
        <div class="card" style="border-radius:10px;">
           <div class="card-header" style="color:#396756;font-size:15px;text-align: center; font-weight:bolder;">{{i['name']}}</div>
           <div class="card-body">
               <p><span class="subtitle"><i class="fas fa-calendar-alt"></i> </span> <span class="desc">{{i['published']}}</span></p>
               <p><span class="subtitle"><i class="fas fa-database"></i> </span> <span class="desc">{{i['source']}}</span></p>
               <p><span class="subtitle"><i class="fas fa-table"></i></span> <span class="desc">{{i['fields'] | length}}</span></p>
           </div>
           <div class="card-footer">
               <p class="left">
                <button type="button" class="btn btn-inverse" data-toggle="modal" data-target="#dataModal{{i['id']}}"><i class="far fa-eye"></i></button>
                <a href=""><i class="fas fa-download"></i></a>
               </p>
               <p class="right">
                   <a href="https://www.instagram.com/hyplate_io/" target='_blank'><i class="fab fa-instagram"></i></a>
                   <a href="https://www.reddit.com/" target='_blank'><i class="fab fa-github"></i></a>
                   <a href="http://reddit.com" targete='_blank'><i class="fab fa-reddit"></i></a>
                   
                </p>
           </div>
          </div>
       </div>



       <div class="modal fade" id="dataModal{{i['id']}}" tabindex="-1" role="dialog" aria-labelledby="dataModal{{i['id']}}Label" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="dataModal{{i['id']}}Label">{{i['name']}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <table class='table table-bordered'>
                  <thead style="text-align:center;font-weight:bolder;color:#396756;">
                      <tr>
                          <td>SN</td>
                          <td>Field</td>
                          <td>Description</td>
                      </tr>
                  </thead>
                  <tbody style="font-size:10px;">
                      {% for k, v in fields.items() %}
                      <tr>
                          <td>{{loop.index}}</td>
                          <td>{{k}}</td>
                          <td>{{v}}</td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
        {% endfor %}
        
      </div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}